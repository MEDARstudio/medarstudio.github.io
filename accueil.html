<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Accueil - Fantasy Botola Pro Inwi</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* --- Inclure ici tout ton CSS existant de page3.html --- */
body { background: linear-gradient(135deg, #1a0033 0%, #2d0052 100%); color: #f8f9fa; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
/* ... Reste du CSS que tu avais ... */
</style>
</head>
<body>

<!-- En-tête et menu mobile comme dans ton fichier original -->
<header>
    <div class="logo">
        <div class="logo-icon"><i class="fas fa-futbol"></i></div>
        <div class="logo-text">Fantasy <span>Botola Pro</span> Inwi</div>
    </div>
    <nav>
        <ul>
            <li><a href="page3.html" class="nav-link active"><i class="fas fa-home"></i> Accueil</a></li>
            <li><a href="equipe.html" class="nav-link"><i class="fas fa-users"></i> Mon Équipe</a></li>
            <li><a href="#" class="nav-link" id="liguesLink"><i class="fas fa-trophy"></i> Mes Ligues</a></li>
        </ul>
    </nav>
    <div class="user-info">
        <div class="user-profile">
            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Utilisateur" class="user-avatar">
            <span class="user-name">Utilisateur</span>
        </div>
    </div>
    <button class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
    </button>
</header>

<!-- Mobile menu et overlay (idem page3 original) -->
<div class="overlay" id="overlay"></div>
<div class="mobile-menu" id="mobileMenu">
    <div class="mobile-menu-header">
        <div class="logo">
            <div class="logo-icon"><i class="fas fa-futbol"></i></div>
            <div class="logo-text">Fantasy <span>Botola Pro</span> Inwi</div>
        </div>
        <button class="close-menu" id="closeMenu"><i class="fas fa-times"></i></button>
    </div>
    <nav class="mobile-nav">
        <ul>
            <li><a href="page3.html" class="nav-link active"><i class="fas fa-home"></i> Accueil</a></li>
            <li><a href="equipe.html" class="nav-link"><i class="fas fa-users"></i> Mon Équipe</a></li>
            <li><a href="#" class="nav-link" id="mobileLiguesLink"><i class="fas fa-trophy"></i> Mes Ligues</a></li>
        </ul>
    </nav>
</div>

<!-- Popup pour les ligues -->
<div class="popup" id="liguesPopup">
    <div class="popup-content">
        <div class="popup-icon"><i class="fas fa-exclamation-circle"></i></div>
        <h2 class="popup-title">Fonctionnalité en cours de développement</h2>
        <p class="popup-message">Les ligues ne sont pas disponibles pour le moment. Veuillez patienter.</p>
        <button class="popup-button" id="closePopup">Fermer</button>
    </div>
</div>

<!-- Contenu principal -->
<div class="main-container">
<h1 class="page-title">Tableau de Bord</h1>

<!-- Deadline et performance -->
<section class="deadline-section">
    <h2 class="deadline-title"><i class="fas fa-clock"></i> Deadline Gameweek 1 - Saison 2025/2026</h2>
    <div class="deadline-timer" id="deadlineTimer"></div>
    <div class="deadline-date">Prochain match: IRT vs HUSA - 12 Septembre 2025, 16:00</div>
</section>

<section class="performance-section">
    <div class="performance-card violet">
        <div class="performance-label">Points Total</div>
        <div class="performance-value points">0.0</div>
        <div class="performance-change positive">+0.0 cette semaine</div>
    </div>
    <div class="performance-card violet-light">
        <div class="performance-label">Valeur Équipe</div>
        <div class="performance-value budget">100.0M</div>
        <div class="performance-change">Budget restant: 100.0M MAD</div>
    </div>
    <div class="performance-card white">
        <div class="performance-label">Ligues</div>
        <div class="performance-value leagues">0</div>
        <div class="performance-change">Aucune ligue rejointe</div>
    </div>
</section>

<section class="next-match-section">
    <div class="match-header"><i class="fas fa-calendar-alt"></i> Prochaine Journée - GW1</div>
    <div class="match-info">
        <div class="team-logo" style="background: #0000FF;"><i class="fas fa-circle"></i></div>
        <div class="team-name">IRT</div>
        <div class="vs">vs</div>
        <div class="team-name">HUSA</div>
        <div class="team-logo" style="background: #FF0000;"><i class="fas fa-circle"></i></div>
    </div>
    <div class="match-deadline" id="matchDeadline"></div>
    <div class="transfer-progress"><div class="progress-bar"></div></div>
    <div class="progress-text">0% des managers ont fait leurs transferts</div>
</section>
</div>

<script>
// --- Gestion de la connexion ---
const currentUser = localStorage.getItem('currentUser');
if(!currentUser) { window.location.href = 'login.html'; }
const userData = JSON.parse(localStorage.getItem('user_'+currentUser));

// Mettre à jour infos utilisateur
document.querySelector('.user-name').textContent = currentUser;
document.querySelector('.performance-value.points').textContent = userData.points.toFixed(1);
document.querySelector('.performance-value.budget').textContent = userData.budget.toFixed(1) + 'M';

// --- Compte à rebours ---
const deadlineGW = new Date('2025-09-12T16:00:00');
const matchDate = new Date('2025-09-12T16:00:00');

function updateCountdowns() {
    const now = new Date();
    const diffGW = deadlineGW - now;
    document.getElementById('deadlineTimer').textContent = diffGW>0?
        `${Math.floor(diffGW/86400000)}j ${Math.floor((diffGW%86400000)/3600000)}h ${Math.floor((diffGW%3600000)/60000)}m ${Math.floor((diffGW%60000)/1000)}s`
        : "Deadline passée!";
    const diffMatch = matchDate - now;
    document.getElementById('matchDeadline').textContent = diffMatch>0?
        `Début dans: ${Math.floor(diffMatch/86400000)}j ${Math.floor((diffMatch%86400000)/3600000)}h ${Math.floor((diffMatch%3600000)/60000)}m ${Math.floor((diffMatch%60000)/1000)}s`
        : "Match en cours ou terminé!";
}
updateCountdowns(); setInterval(updateCountdowns,1000);

// --- Menu mobile ---
const menuToggle = document.getElementById('menuToggle');
const closeMenu = document.getElementById('closeMenu');
const mobileMenu = document.getElementById('mobileMenu');
const overlay = document.getElementById('overlay');
menuToggle.addEventListener('click',()=>{mobileMenu.classList.add('active'); overlay.classList.add('active'); document.body.style.overflow='hidden';});
closeMenu.addEventListener('click',()=>{mobileMenu.classList.remove('active'); overlay.classList.remove('active'); document.body.style.overflow='auto';});
overlay.addEventListener('click',()=>{mobileMenu.classList.remove('active'); overlay.classList.remove('active'); document.body.style.overflow='auto';});

// --- Popup ligues ---
const liguesLink = document.getElementById('liguesLink');
const mobileLiguesLink = document.getElementById('mobileLiguesLink');
const liguesPopup = document.getElementById('liguesPopup');
const closePopup = document.getElementById('closePopup');
function openLiguesPopup(e){e.preventDefault(); liguesPopup.classList.add('active'); document.body.style.overflow='hidden';}
liguesLink.addEventListener('click', openLiguesPopup);
mobileLiguesLink.addEventListener('click', openLiguesPopup);
closePopup.addEventListener('click', ()=>{liguesPopup.classList.remove('active'); document.body.style.overflow='auto';});
liguesPopup.addEventListener('click',(e)=>{if(e.target===liguesPopup){liguesPopup.classList.remove('active'); document.body.style.overflow='auto';}});
</script>

</body>
</html>
